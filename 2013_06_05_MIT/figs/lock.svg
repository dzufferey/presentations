<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="409.3569"
   height="174.82277"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.3.1 r9886"
   sodipodi:docname="New document 1">
  <defs
     id="defs4">
    <linearGradient
       id="linearGradient3282"
       gradientUnits="userSpaceOnUse"
       y2="3.9851"
       x2="0"
       y1="0"
       x1="0">
      <stop
         id="stop3284"
         offset="0"
         style="stop-opacity:1;stop-color:#ffffff" />
      <stop
         id="stop3286"
         offset="1"
         style="stop-opacity:1;stop-color:#808080" />
    </linearGradient>
    <clipPath
       id="clipPath3278"
       clipPathUnits="userSpaceOnUse">
      <path
         id="path3280"
         d="m 0,0 362.835,0 0,3.985 L 0,3.985 0,0 z"
         inkscape:connector-curvature="0" />
    </clipPath>
    <linearGradient
       id="linearGradient3258"
       gradientUnits="userSpaceOnUse"
       y2="0"
       x2="362.83939"
       y1="0"
       x1="0">
      <stop
         id="stop3260"
         offset="0"
         style="stop-opacity:1;stop-color:#3333b3" />
      <stop
         id="stop3262"
         offset="1"
         style="stop-opacity:1;stop-color:#000000" />
    </linearGradient>
    <clipPath
       id="clipPath3254"
       clipPathUnits="userSpaceOnUse">
      <path
         id="path3256"
         d="m 0,0 362.835,0 0,272.126 L 0,272.126 0,0 z"
         inkscape:connector-curvature="0" />
    </clipPath>
    <clipPath
       id="clipPath3240"
       clipPathUnits="userSpaceOnUse">
      <path
         id="path3242"
         d="m 0,0 362.8394,0 0,20.52338 L 0,20.52338 0,0 z"
         inkscape:connector-curvature="0" />
    </clipPath>
    <linearGradient
       id="linearGradient3224"
       gradientUnits="userSpaceOnUse"
       y2="3.9851"
       x2="0"
       y1="0"
       x1="0">
      <stop
         id="stop3226"
         offset="0"
         style="stop-opacity:1;stop-color:#ffffff" />
      <stop
         id="stop3228"
         offset="1"
         style="stop-opacity:1;stop-color:#808080" />
    </linearGradient>
    <clipPath
       id="clipPath3220"
       clipPathUnits="userSpaceOnUse">
      <path
         id="path3222"
         d="m 0,0 362.835,0 0,3.985 L 0,3.985 0,0 z"
         inkscape:connector-curvature="0" />
    </clipPath>
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient3258"
       id="linearGradient3730"
       gradientUnits="userSpaceOnUse"
       x1="0"
       y1="0"
       x2="362.83939"
       y2="0" />
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient3282"
       id="linearGradient3732"
       gradientUnits="userSpaceOnUse"
       x1="0"
       y1="0"
       x2="0"
       y2="3.9851" />
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient3224"
       id="linearGradient3844"
       gradientUnits="userSpaceOnUse"
       x1="0"
       y1="0"
       x2="0"
       y2="3.9851" />
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient3282"
       id="linearGradient3850"
       gradientUnits="userSpaceOnUse"
       x1="0"
       y1="0"
       x2="0"
       y2="3.9851" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.76"
     inkscape:cx="316.42404"
     inkscape:cy="-0.78742388"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:window-width="1440"
     inkscape:window-height="844"
     inkscape:window-x="0"
     inkscape:window-y="27"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-172.14739,-125.32343)">
    <text
       id="text3298"
       x="171.85065"
       y="132.89268"
       style="font-size:15px">
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="171.85065 177.14378 182.43692 187.73007 198.31337 203.60651 208.89964 214.19279 219.48593 224.77908 230.07222 235.36536 240.65851 245.95164 251.2448 256.53793 261.83109 272.41437 277.70752 283.00067 288.29379 293.58694 298.8801"
         y="132.89268"
         sodipodi:role="line"
         id="tspan3300">voidlock(spinlock*lock)</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="171.85065"
         y="144.72392"
         id="tspan3302">{</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="182.43564 187.72878 193.02193 198.31506 203.60822 214.1915 219.48465 224.77779"
         y="156.55392"
         sodipodi:role="line"
         id="tspan3304">while(1)</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="182.43564"
         y="168.38518"
         id="tspan3306">{</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="193.02065 198.31378 208.89708 214.19022 219.48337 224.7765 230.06964 235.36279 240.65593 245.94908 251.24222 256.53537 261.82849 267.12164 272.41479 277.70795 283.00107 293.58438 298.8775 304.17065 309.46381 314.75696 320.05008 330.63339 335.92654 341.21967 346.51282 351.80594 357.09909 362.39224"
         y="180.21518"
         sodipodi:role="line"
         id="tspan3308">if(!xchg_32(lock,BUSY))return;</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="193.02065 198.31378 203.60692 208.90007 214.19321 224.7765 230.06964 235.36279 240.65593 245.94908 251.24222 256.53537 267.11865 272.4118 277.70496 282.99808 288.29123 293.58438 298.8775 304.17065 309.46381 314.75696 320.05008 325.34323"
         y="192.04643"
         sodipodi:role="line"
         id="tspan3310">while(*lock)cpu_relax();</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="182.43564"
         y="203.87643"
         id="tspan3312">}</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="171.85065"
         y="215.70767"
         id="tspan3314">}</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="171.85065 177.14378 182.43692 187.73007 198.31337 203.60651 208.89964 214.19279 219.48593 224.77908 230.07222 235.36536 240.65851 245.95164 251.2448 256.53793 261.83109 267.11426 272.40741 283.00067 288.29379 293.58694 298.8801 304.17322 309.45642"
         y="239.36893"
         sodipodi:role="line"
         id="tspan3316">voidunlock(spinlock*lock)</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="171.85065"
         y="251.19893"
         id="tspan3318">{</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="182.43564 187.72878 193.02193 198.31506 203.60822 208.90135 214.19449 219.48764 224.78078 230.07393"
         y="263.03018"
         sodipodi:role="line"
         id="tspan3320">barrier();</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="182.43564 187.72878 193.02193 198.31506 203.60822 208.90135 214.19449 219.48764 224.78078 230.07393 235.36707 240.66022 245.94339"
         y="274.86017"
         sodipodi:role="line"
         id="tspan3322">assert(*lock)</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="182.43564 187.72878 193.02193 198.31506 203.60822 214.1915 224.77481 230.06795"
         y="286.69144"
         sodipodi:role="line"
         id="tspan3324">*lock=0;</tspan>
      <tspan
         style="font-size:9.96262455px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMTT8;-inkscape-font-specification:CMTT8"
         x="171.85065"
         y="298.52142"
         id="tspan3326">}</tspan>
    </text>
    <g
       id="g3330"
       transform="matrix(1.25,0,0,-1.25,457.7844,204.60392)">
      <g
         id="g3332" />
      <g
         id="g3334">
        <g
           id="g3336">
          <path
             id="path3338"
             style="fill:none;stroke:#000000;stroke-width:0.59776002;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
             d="M 13.63657,0 C 13.63657,7.53136 7.53136,13.63657 0,13.63657 -7.53136,13.63657 -13.63657,7.53136 -13.63657,0 c 0,-7.53136 6.10521,-13.63657 13.63657,-13.63657 7.53136,0 13.63657,6.10521 13.63657,13.63657 z"
             inkscape:connector-curvature="0" />
          <g
             transform="translate(-3.669,-2.969)"
             id="g3340">
            <g
               id="g3342">
              <g
                 transform="translate(-243.976,-125.686)"
                 id="g3344">
                <text
                   id="text3346"
                   transform="matrix(1,0,0,-1,243.976,125.686)">
                  <tspan
                     id="tspan3348"
                     y="0"
                     x="0"
                     style="font-size:10.90909958px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSSI10;-inkscape-font-specification:CMSSI10">l</tspan>
                </text>
                <text
                   id="text3350"
                   transform="matrix(1,0,0,-1,246.582,124.049)">
                  <tspan
                     id="tspan3352"
                     y="0"
                     x="0"
                     style="font-size:7.97009993px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSS8;-inkscape-font-specification:CMSS8">0</tspan>
                </text>
                <g
                   transform="translate(243.976,125.686)"
                   id="g3354" />
              </g>
            </g>
            <g
               transform="translate(3.669,2.969)"
               id="g3356" />
          </g>
        </g>
        <g
           id="g3358">
          <path
             id="path3360"
             style="fill:none;stroke:#000000;stroke-width:0.59776002;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
             d="m -28.48105,0 13.96277,0"
             inkscape:connector-curvature="0" />
          <g
             transform="translate(-14.51828,0)"
             id="g3362">
            <g
               id="g3364">
              <path
                 id="path3366"
                 style="fill:none;stroke:#000000;stroke-width:0.47819999;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
                 d="M -1.37483,1.83311 C -1.26025,1.14569 0,0.11455 0.34369,0 0,-0.11455 -1.26025,-1.14569 -1.37483,-1.83311"
                 inkscape:connector-curvature="0" />
            </g>
          </g>
          <g
             id="g3368">
            <g
               transform="translate(-53.143,-3.116)"
               id="g3370">
              <g
                 id="g3372">
                <g
                   transform="translate(-194.502,-125.539)"
                   id="g3374">
                  <text
                     id="text3376"
                     transform="matrix(1,0,0,-1,194.502,125.539)">
                    <tspan
                       id="tspan3378"
                       sodipodi:role="line"
                       y="0"
                       x="0 4.181458 8.1207342 13.058192 16.785831"
                       style="font-size:10.90909958px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSS10;-inkscape-font-specification:CMSS10">start</tspan>
                  </text>
                  <g
                     transform="translate(194.502,125.539)"
                     id="g3380" />
                </g>
              </g>
              <g
                 transform="translate(53.143,3.116)"
                 id="g3382" />
            </g>
          </g>
        </g>
        <g
           id="g3384">
          <path
             id="path3386"
             style="fill:none;stroke:#000000;stroke-width:0.59776002;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
             d="m 98.67702,0 c 0,7.53136 -6.1052,13.63657 -13.63657,13.63657 C 77.5091,13.63657 71.40388,7.53136 71.40388,0 c 0,-7.53136 6.10522,-13.63657 13.63657,-13.63657 7.53137,0 13.63657,6.10521 13.63657,13.63657 z"
             inkscape:connector-curvature="0" />
          <g
             transform="translate(81.37,-2.969)"
             id="g3388">
            <g
               id="g3390">
              <g
                 transform="translate(-329.015,-125.686)"
                 id="g3392">
                <text
                   id="text3394"
                   transform="matrix(1,0,0,-1,329.015,125.686)">
                  <tspan
                     id="tspan3396"
                     y="0"
                     x="0"
                     style="font-size:10.90909958px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSSI10;-inkscape-font-specification:CMSSI10">l</tspan>
                </text>
                <text
                   id="text3398"
                   transform="matrix(1,0,0,-1,331.621,124.049)">
                  <tspan
                     id="tspan3400"
                     y="0"
                     x="0"
                     style="font-size:7.97009993px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSS8;-inkscape-font-specification:CMSS8">1</tspan>
                </text>
                <g
                   transform="translate(329.015,125.686)"
                   id="g3402" />
              </g>
            </g>
            <g
               transform="translate(-81.37,2.969)"
               id="g3404" />
          </g>
        </g>
        <g
           id="g3406">
          <path
             id="path3408"
             style="fill:none;stroke:#000000;stroke-width:0.59776002;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
             d="m 12.10675,6.99005 c 20.54282,11.86037 40.28412,11.86037 60.3206,0.29233"
             inkscape:connector-curvature="0" />
          <g
             transform="matrix(0.86877,-0.5016,0.5016,0.86877,72.42735,7.28238)"
             id="g3410">
            <g
               id="g3412">
              <path
                 id="path3414"
                 style="fill:none;stroke:#000000;stroke-width:0.47819999;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
                 d="M -1.37483,1.83311 C -1.26025,1.14569 0,0.11455 0.34369,0 0,-0.11455 -1.26025,-1.14569 -1.37483,-1.83311"
                 inkscape:connector-curvature="0" />
            </g>
          </g>
          <g
             id="g3416">
            <g
               transform="translate(33.247,19.82)"
               id="g3418">
              <g
                 id="g3420">
                <g
                   transform="translate(-280.892,-148.475)"
                   id="g3422">
                  <text
                     id="text3424"
                     transform="matrix(1,0,0,-1,280.892,148.475)">
                    <tspan
                       id="tspan3426"
                       sodipodi:role="line"
                       y="0"
                       x="0 2.606184 8.366189 13.214192"
                       style="font-size:10.90909958px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSS10;-inkscape-font-specification:CMSS10">lock</tspan>
                  </text>
                  <g
                     transform="translate(280.892,148.475)"
                     id="g3428" />
                </g>
              </g>
              <g
                 transform="translate(-33.247,-19.82)"
                 id="g3430" />
            </g>
          </g>
        </g>
        <g
           id="g3432">
          <path
             id="path3434"
             style="fill:none;stroke:#000000;stroke-width:0.59776002;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
             d="M 72.93369,-6.99005 C 52.39087,-18.85042 32.64957,-18.85042 12.61308,-7.28238"
             inkscape:connector-curvature="0" />
          <g
             transform="matrix(-0.86877,0.5016,-0.5016,-0.86877,12.61308,-7.28238)"
             id="g3436">
            <g
               id="g3438">
              <path
                 id="path3440"
                 style="fill:none;stroke:#000000;stroke-width:0.47819999;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-dasharray:none"
                 d="M -1.37483,1.83311 C -1.26025,1.14569 0,0.11455 0.34369,0 0,-0.11455 -1.26025,-1.14569 -1.37483,-1.83311"
                 inkscape:connector-curvature="0" />
            </g>
          </g>
          <g
             id="g3442">
            <g
               transform="translate(27.611,-27.395)"
               id="g3444">
              <g
                 id="g3446">
                <g
                   transform="translate(-275.256,-101.26)"
                   id="g3448">
                  <text
                     id="text3450"
                     transform="matrix(1,0,0,-1,275.256,101.26)">
                    <tspan
                       id="tspan3452"
                       sodipodi:role="line"
                       y="0"
                       x="0 5.6367321 11.273464 13.879648 19.639652 24.487658"
                       style="font-size:10.90909958px;font-variant:normal;font-weight:normal;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;font-family:CMSS10;-inkscape-font-specification:CMSS10">unlock</tspan>
                  </text>
                  <g
                     transform="translate(275.256,101.26)"
                     id="g3454" />
                </g>
              </g>
              <g
                 transform="translate(-27.611,27.395)"
                 id="g3456" />
            </g>
          </g>
        </g>
      </g>
    </g>
  </g>
</svg>
